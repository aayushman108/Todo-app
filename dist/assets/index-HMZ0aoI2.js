var u=Object.defineProperty;var h=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var m=(r,e,t)=>(h(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class p{constructor(e,t,o=!1,s=!1){m(this,"id");m(this,"text");m(this,"completed");m(this,"favorite");this.id=e,this.text=t,this.completed=o,this.favorite=s}toggleCompletion(){this.completed=!this.completed}toggleFavorite(){this.favorite=!this.favorite}}class f{constructor(){m(this,"items");m(this,"filteredItems");this.items=[],this.filteredItems=[],this.loadFromLocalStorage()}addItem(e){const t=new p(this.items.length+1,e,!1);this.items.unshift(t),this.saveToLocalStorage(),this.render()}toggleComplete(e){const t=this.items.find(o=>o.id===e);t&&(t.toggleCompletion(),this.render(),this.saveToLocalStorage())}toggleFavorite(e){const t=this.items.find(o=>o.id===e);t&&(t.toggleFavorite(),this.render(),this.saveToLocalStorage())}removeItem(e){this.items=this.items.filter(t=>t.id!==e),this.render(),this.saveToLocalStorage()}getFavoriteItems(){return this.items.filter(e=>e.favorite)}getCompletedItems(){return this.items.filter(e=>e.completed)}getIncompleteItems(){return this.items.filter(e=>!e.completed)}saveToLocalStorage(){try{localStorage.setItem("todoItems",JSON.stringify(this.items))}catch(e){console.error("Error saving to local storage:",e)}}loadFromLocalStorage(){try{const e=localStorage.getItem("todoItems");e&&(this.items=JSON.parse(e))}catch(e){console.error("Error loading from local storage:",e)}}display(){const e=document.getElementsByTagName("ul");Array.from(e).forEach(o=>{o.style.display="none"})}search(e){this.display();const t=e.trim().toLowerCase();this.filteredItems=this.items.filter(o=>o.text.toLowerCase().includes(t)),this.renderSearchResults(this.filteredItems)}renderSearchResults(e){const t=document.getElementById("searchResults");t&&(t.style.display="block",t.innerHTML="",e.forEach(o=>{const s=this.createListItem(o);t.appendChild(s)}))}render(e="todo"){this.display();const t=`${e}List`,o=document.getElementById(t);o&&(o.innerHTML="",o.style.display="block",(e==="favorite"?this.getFavoriteItems():e==="completed"?this.getCompletedItems():e==="incomplete"?this.getIncompleteItems():this.items).forEach(i=>{const n=this.createListItem(i);o.appendChild(n)}))}createListItem(e){const t=document.createElement("li"),o=document.createElement("button"),s=document.createElement("i");s.classList.add("bi",e.completed?"bi-check-circle-fill":"bi-circle"),o.appendChild(s),o.addEventListener("click",()=>this.toggleComplete(e.id)),t.appendChild(o);const i=document.createElement("span");i.textContent=e.text,t.className=e.completed?"completed":"",t.appendChild(i);const n=document.createElement("button"),c=document.createElement("i");c.classList.add("bi",e.favorite?"bi-star-fill":"bi-star"),n.appendChild(c),n.addEventListener("click",()=>this.toggleFavorite(e.id)),t.appendChild(n);const l=document.createElement("button"),a=document.createElement("i");return a.classList.add("bi","bi-trash"),l.appendChild(a),l.addEventListener("click",()=>this.removeItem(e.id)),t.appendChild(l),t}}const d=new f;function g(){d.render("todo")}document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("addTodoInput"),e=document.getElementById("addTodoButton"),t=document.getElementById("showAllButton"),o=document.getElementById("showFavoritesButton"),s=document.getElementById("showCompletedButton"),i=document.getElementById("showIncompleteButton"),n=[t,o,s,i],c=()=>{n.forEach(a=>{a&&(a.style.border="none")})},l=document.getElementById("searchInput");e==null||e.addEventListener("click",()=>{r.value.trim()!==""&&(d.addItem(r.value),r.value="")}),r.addEventListener("keydown",a=>{a.key==="Enter"&&r.value.trim()!==""&&(d.addItem(r.value),r.value="")}),l==null||l.addEventListener("input",()=>{d.search(l.value)}),t&&(t.style.borderBottom="5px solid blue",t.addEventListener("click",()=>{d.render("todo"),c(),t.style.borderBottom="5px solid blue"})),o&&o.addEventListener("click",()=>{d.render("favorite"),c(),o.style.borderBottom="5px solid blue"}),s&&s.addEventListener("click",()=>{d.render("completed"),c(),s.style.borderBottom="5px solid blue"}),i&&i.addEventListener("click",()=>{d.render("incomplete"),c(),i.style.borderBottom="5px solid blue"}),g()});
