var p=Object.defineProperty;var g=(i,e,o)=>e in i?p(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var m=(i,e,o)=>(g(i,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const v="0123456789",I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",E=8;function y(i){const e=I+v;let o="";for(let t=0;t<i;t++)o+=e.charAt(Math.floor(Math.random()*e.length));return o}class u{constructor(e,o=!1,t=!1){m(this,"id");m(this,"text");m(this,"completed");m(this,"favorite");this.id=y(E),this.text=e,this.completed=o,this.favorite=t}toggleCompletion(){this.completed=!this.completed}toggleFavorite(){this.favorite=!this.favorite}}class L{constructor(){m(this,"items");m(this,"filteredItems");this.items=[],this.filteredItems=[],this.loadFromLocalStorage()}addItem(e,o){let t;o==="completed"?t=new u(e,!0,!1):o==="favorite"?t=new u(e,!1,!0):t=new u(e,!1,!1),this.items.unshift(t),this.saveToLocalStorage(),this.render(o)}toggleComplete(e,o){const t=this.items.find(s=>s.id===e);t&&(t.toggleCompletion(),this.render(o),this.saveToLocalStorage())}toggleFavorite(e,o){const t=this.items.find(s=>s.id===e);t&&(t.toggleFavorite(),this.render(o),this.saveToLocalStorage())}removeItem(e,o){this.items=this.items.filter(t=>t.id!==e),this.render(o),this.saveToLocalStorage()}confirmDelete(e,o){window.confirm("Are you sure you want to delete this item?")&&this.removeItem(e,o)}getFavoriteItems(){return this.items.filter(e=>e.favorite)}getCompletedItems(){return this.items.filter(e=>e.completed)}getIncompleteItems(){return this.items.filter(e=>!e.completed)}saveToLocalStorage(){try{localStorage.setItem("todoItems",JSON.stringify(this.items))}catch(e){console.error("Error saving to local storage:",e)}}loadFromLocalStorage(){try{const e=localStorage.getItem("todoItems");if(e){const o=JSON.parse(e);this.items=o.map(t=>new u(t.text,t.completed,t.favorite))}}catch(e){console.error("Error loading from local storage:",e)}}display(){const e=document.getElementsByTagName("ul");Array.from(e).forEach(t=>{t.style.display="none"})}search(e){this.display();const o=e.trim().toLowerCase();this.filteredItems=this.items.filter(t=>t.text.toLowerCase().includes(o)),this.renderSearchResults(this.filteredItems)}renderSearchResults(e){const o=document.getElementById("searchResults");o&&(o.style.display="block",o.innerHTML="",e.forEach(t=>{const s=this.createListItem(t);o.appendChild(s)}))}render(e="todo"){this.display();const o=`${e}List`,t=document.getElementById(o);t&&(t.innerHTML="",t.style.display="block",(e==="favorite"?this.getFavoriteItems():e==="completed"?this.getCompletedItems():e==="incomplete"?this.getIncompleteItems():this.items).forEach(r=>{const l=this.createListItem(r,e);t.appendChild(l)}))}createListItem(e,o="todo"){const t=document.createElement("li"),s=document.createElement("button"),r=document.createElement("i");r.classList.add("bi",e.completed?"bi-check-circle-fill":"bi-circle"),s.appendChild(r),s.addEventListener("click",()=>this.toggleComplete(e.id,o)),t.appendChild(s);const l=document.createElement("span");l.textContent=e.text,t.className=e.completed?"completed":e.favorite?"favorite":"",t.appendChild(l);const h=document.createElement("button"),c=document.createElement("i");c.classList.add("bi",e.favorite?"bi-star-fill":"bi-star"),h.appendChild(c),h.addEventListener("click",()=>this.toggleFavorite(e.id,o)),t.appendChild(h);const d=document.createElement("button"),f=document.createElement("i");return f.classList.add("bi","bi-trash"),d.appendChild(f),d.addEventListener("click",()=>this.confirmDelete(e.id,o)),t.appendChild(d),t}}const a=new L,n=[];function B(){a.render("todo")}document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("addTodoInput"),e=document.getElementById("searchInput"),o=document.getElementById("addTodoButton"),t=document.getElementById("showAllButton"),s=document.getElementById("showFavoritesButton"),r=document.getElementById("showCompletedButton"),l=document.getElementById("showIncompleteButton"),h=[t,s,r,l],c=()=>{h.forEach(d=>{d&&(d.style.border="none")})};o==null||o.addEventListener("click",()=>{i.value.trim()!==""&&(a.addItem(i.value,n[0]),i.value="")}),i.addEventListener("keydown",d=>{d.key==="Enter"&&i.value.trim()!==""&&(a.addItem(i.value,n[0]),i.value="")}),e==null||e.addEventListener("input",()=>{c(),t&&(t.style.borderBottom="5px solid rgb(4, 4, 150)"),a.search(e.value)}),t&&(t.style.borderBottom="5px solid rgb(4, 4, 150)",t.addEventListener("click",()=>{a.render("todo"),n.splice(0,n.length),n.push("todo"),c(),t.style.borderBottom="5px solid rgb(4, 4, 150)"})),s&&s.addEventListener("click",()=>{a.render("favorite"),n.splice(0,n.length),n.push("favorite"),c(),s.style.borderBottom="5px solid rgb(4, 4, 150)"}),r&&r.addEventListener("click",()=>{a.render("completed"),n.splice(0,n.length),n.push("completed"),c(),r.style.borderBottom="5px solid rgb(4, 4, 150)"}),l&&l.addEventListener("click",()=>{a.render("incomplete"),n.splice(0,n.length),n.push("incomplete"),c(),l.style.borderBottom="5px solid rgb(4, 4, 150)"}),i.focus(),B()});
